import{_ as v}from"./index.de99a551.js";const P={class:"iconInput"},k=["placeholder","onKeydown","type"],N=Vue.defineComponent({__name:"IconInput",props:["modelValue","placeholder","type"],emits:["update:modelValue","click"],setup(c,{emit:o}){const e=c;var t=Vue.ref(null);function p(r){o("update:modelValue",r.target.value)}function i(r){o("click",r)}return Vue.onMounted(()=>{e.modelValue&&(t.value=e.modelValue)}),(r,s)=>(Vue.openBlock(),Vue.createElementBlock("div",P,[Vue.withDirectives(Vue.createElementVNode("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>Vue.isRef(t)?t.value=n:t=n),onInput:p,placeholder:e.placeholder,onKeydown:Vue.withKeys(i,["enter"]),type:e.type},null,40,k),[[Vue.vModelDynamic,Vue.unref(t)]]),Vue.createElementVNode("div",{class:"icon cursor_pointer",onClick:i},[Vue.renderSlot(r.$slots,"icon",{},void 0,!0)])]))}});const B=v(N,[["__scopeId","data-v-47d7c7b6"]]),f=c=>(Vue.pushScopeId("data-v-bd89276e"),c=c(),Vue.popScopeId(),c),D={class:"problems"},I={class:"left"},T={class:"search"},x={class:"option"},L=f(()=>Vue.createElementVNode("div",{class:"label"},"\u5E73\u53F0",-1)),$=f(()=>Vue.createElementVNode("div",{class:"option"},[Vue.createElementVNode("div",{class:"label"},"\u6807\u7B7E"),Vue.createElementVNode("div")],-1)),w={class:"info"},A={class:"count"},S={class:"right",ref:"searchResult"},q={key:0,class:"notFound"},F={class:"list"},O=["onClick"],U={key:0,class:"tag"},M={key:1,class:"tag"},R={class:"pagination"},z=Vue.defineComponent({__name:"Problems",setup(c){const{proxy:o}=Vue.getCurrentInstance();var e=Vue.reactive({Count:0,currentPage:1,limit:20,loading:null,init(){e.Count=0,e.currentPage=1,e.limit=20,e.loading=null},changePage:n=>{e.currentPage=n,s(),i()}}),t=Vue.reactive({PID:null,PType:"",PTypeOptions:[{label:"\u5168\u90E8",value:""},{label:"AHUT",value:"LOCAL"},{label:"CodeForce",value:"CODEFORCES"},{label:"ATCoder",value:"ATCODERTYPE"}],Title:"",Label:null,Data:[],init(){t.PID=null,t.Title="",t.Data=[]}});function p(){e.init(),t.init(),o.$route.query.Page&&(e.currentPage=o.$route.query.Page-0),o.$route.query.Limit&&(e.limit=o.$route.query.Limit-0),o.$route.query.Title&&(t.Title=o.$route.query.Title),o.$route.query.Label&&(t.Label=o.$route.query.Label),i()}function i(){e.loading=o.elLoading({node:o.$refs.searchResult});let n=t.PType;n=n!=null?n:null,o.$get("api/problem/list",{Page:e.currentPage-1,Limit:e.limit,PType:n}).then(l=>{var V,d;let a=l.data;a.code==0&&(e.Count=a.Count,t.Data=a.Data),o.codeProcessor((V=a==null?void 0:a.code)!=null?V:100001,(d=a==null?void 0:a.msg)!=null?d:"\u670D\u52A1\u5668\u9519\u8BEF\\\\error"),e.loading.close()})}function r(n){if(t.PID=n!=null?n:t.PID,!t.PID){o.elMessage({message:"\u9898\u76EE ID \u65E0\u6548",type:"warning"});return}o.$router.push({name:"Problem",params:{PID:t.PID}})}function s(){var n;o.$router.replace({path:"/Problems",query:{Page:e.currentPage,Limit:e.limit,Title:(n=t.Title)!=null?n:void 0,PType:t.PType,Label:t.Label}})}return Vue.onMounted(()=>{p()}),(n,l)=>{const a=Vue.resolveComponent("Aim"),V=Vue.resolveComponent("el-icon"),d=Vue.resolveComponent("el-option"),y=Vue.resolveComponent("el-select"),C=Vue.resolveComponent("el-empty"),_=Vue.resolveComponent("el-tag"),E=Vue.resolveComponent("el-pagination"),m=Vue.resolveComponent("el-radio-button"),h=Vue.resolveComponent("el-radio-group");return Vue.openBlock(),Vue.createElementBlock("div",D,[Vue.createElementVNode("div",I,[Vue.createElementVNode("div",T,[Vue.createVNode(B,{modelValue:Vue.unref(t).PID,"onUpdate:modelValue":l[1]||(l[1]=u=>Vue.unref(t).PID=u),placeholder:"\u9898\u76EE ID",type:"text"},{icon:Vue.withCtx(()=>[Vue.createVNode(V,{size:"22px",onClick:l[0]||(l[0]=u=>r())},{default:Vue.withCtx(()=>[Vue.createVNode(a)]),_:1})]),_:1},8,["modelValue"]),Vue.createElementVNode("div",x,[L,Vue.createVNode(y,{modelValue:Vue.unref(t).PType,"onUpdate:modelValue":l[2]||(l[2]=u=>Vue.unref(t).PType=u),class:"m-2",placeholder:"Select",onChange:l[3]||(l[3]=u=>i())},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(t).PTypeOptions,u=>(Vue.openBlock(),Vue.createBlock(d,{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),$]),Vue.createElementVNode("div",w,[Vue.createElementVNode("div",A,"\u641C\u7D22\u5230 "+Vue.toDisplayString(Vue.unref(e).Count)+" \u4E2A\u9898\u76EE",1)])]),Vue.createElementVNode("div",S,[Vue.unref(t).Data.length==0?(Vue.openBlock(),Vue.createElementBlock("div",q,[Vue.createVNode(C,{description:"\u672A\u627E\u5230\u7ED3\u679C"})])):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",F,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(t).Data,(u,b)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",key:b},[Vue.createElementVNode("div",{class:"title cursor_pointer",onClick:()=>r(u.PID)},Vue.toDisplayString(u.PID)+"\xA0-\xA0"+Vue.toDisplayString(u.Title),9,O),u.Label.length>0?(Vue.openBlock(),Vue.createElementBlock("div",U,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u.Label.split(";"),g=>(Vue.openBlock(),Vue.createBlock(_,{key:g},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(g),1)]),_:2},1024))),128))])):(Vue.openBlock(),Vue.createElementBlock("div",M,[Vue.createVNode(_,{type:"info"},{default:Vue.withCtx(()=>[Vue.createTextVNode(" \u6682\u65E0\u6807\u7B7E ")]),_:1})]))]))),128))]),Vue.createElementVNode("div",R,[Vue.createVNode(E,{background:"",layout:"prev, pager, next","page-size":Vue.unref(e).limit,total:Vue.unref(e).Count,"current-page":Vue.unref(e).currentPage,onCurrentChange:Vue.unref(e).changePage},null,8,["page-size","total","current-page","onCurrentChange"]),Vue.createVNode(h,{modelValue:Vue.unref(e).limit,"onUpdate:modelValue":l[4]||(l[4]=u=>Vue.unref(e).limit=u),onChange:l[5]||(l[5]=u=>Vue.unref(e).changePage(1)),style:{margin:"0 20px"}},{default:Vue.withCtx(()=>[Vue.createVNode(m,{label:20}),Vue.createVNode(m,{label:30}),Vue.createVNode(m,{label:50})]),_:1},8,["modelValue"])])],512)])}}});const H=v(z,[["__scopeId","data-v-bd89276e"]]);export{H as default};
